<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>腾讯Web前端大会 TFC2017--简单分享 - Cirplan</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="cirplan"><meta name=description content="TFC2017"><meta name=keywords content="tfc2017,frontend"><link rel=canonical href=https://cirplan.me/post/2017/07-01-frontend-tfc/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link href=/sass/main.min.546d322bdbc7d13b3a8b5382a26728002e659af543fa0d28068bfbb4ee869770.css rel=stylesheet></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>Cirplan</a></div><div class=mobile-navbar-icon id=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>主页</li></a><a href=/post/><li class=mobile-menu-item>归档</li></a><a href=/tags/><li class=mobile-menu-item>标签</li></a><a href=/categories/><li class=mobile-menu-item>分类</li></a><a href=/about/><li class=mobile-menu-item>关于</li></a><a href=https://github.com/cirplan><li class=mobile-menu-item>Github</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>Cirplan</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>主页</a></li><li class=menu-item><a class=menu-item-link href=/post/>归档</a></li><li class=menu-item><a class=menu-item-link href=/tags/>标签</a></li><li class=menu-item><a class=menu-item-link href=/categories/>分类</a></li><li class=menu-item><a class=menu-item-link href=/about/>关于</a></li><li class=menu-item><a class=menu-item-link href=https://github.com/cirplan>Github</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>腾讯Web前端大会 TFC2017--简单分享</h1><div class=post-meta><span class=post-time>2017-07-01</span><div class=post-category><a href=/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/>前端分享</a></div><span class=more-meta>约 2670 字</span>
<span class=more-meta>预计阅读 6 分钟</span></div></header><div class=post-outdated><div class=warn><p>【注意】最后更新于 <span class=timeago datetime=2017-07-01T14:27:31 title=2017-07-01>2017-07-01, </span>，文中内容可能已过时，请谨慎使用。</p></div></div><div class=post-content><ul><li><a href=#%E5%BC%80%E7%AF%87>开篇</a></li><li><a href=#1-the-future-of-writing-javascript-%E6%8E%A8%E8%8D%90>1. the Future of Writing Javascript <code>推荐</code></a><ul><li><a href=#stage-4>Stage 4</a></li><li><a href=#stage-3>Stage 3</a></li><li><a href=#stage-2>Stage 2</a></li><li><a href=#javascript-%E7%9A%84%E6%9C%AA%E6%9D%A5>JavaScript 的未来</a></li></ul></li><li><a href=#2-%E5%88%9D%E5%88%9B%E5%85%AC%E5%8F%B8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E4%BD%93%E7%B3%BB%E5%BB%BA%E8%AE%BE>2. 初创公司前端工程体系建设</a><ul><li><a href=#%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91%E4%B8%8E%E7%B3%BB%E7%BB%9F%E6%8B%86%E5%88%86>组件化开发与系统拆分</a></li><li><a href=#%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E4%BA%A4%E4%BB%98%E9%83%A8%E7%BD%B2>持续集成/交付/部署</a></li><li><a href=#%E5%89%8D%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95>前端自动化测试</a></li><li><a href=#%E7%9C%8B%E6%9D%BF%E5%8F%AF%E8%A7%86%E5%8C%96%E4%BD%A0%E7%9A%84%E8%BF%9B%E5%BA%A6----%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E7%89%A9%E7%90%86%E7%9C%8B%E6%9D%BF>看板，可视化你的进度 &ndash; 推荐使用物理看板</a></li></ul></li><li><a href=#3-%E9%9D%A2%E5%90%91%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-v8-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96>3. 面向前端开发者的 V8 性能优化</a></li><li><a href=#4-webgl%E6%96%B0%E7%9A%84%E7%AF%87%E7%AB%A0>4. WebGL新的篇章</a><ul><li><a href=#%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88>能做什么</a></li><li><a href=#%E8%AF%A5%E6%80%8E%E4%B9%88%E5%81%9A>该怎么做</a></li><li><a href=#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86>工作原理</a></li></ul></li><li><a href=#5-%E5%AF%8C%E9%80%94%E7%9A%84%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%AE%9E%E8%B7%B5%E4%B9%8B%E8%B7%AF>5. 富途的工程化实践之路</a></li><li><a href=#%E5%85%B6%E4%BB%96>其他</a></li></ul><h2 id=开篇>开篇</h2><p>06.24去参加了腾讯Web前端大会，现在来做简单的分享。</p><p>简单说下大会的流程，上午是一个主会场，下午是三个分会场同时进行，所以上午的都听了，下午的是选择听了一些。几个会场的分享如下：</p><p>主会场：</p><ul><li>《the Future of Writing Javascript》Nicolas Bevacqua</li><li>《初创公司前端工程体系建设》张云龙</li><li>《面向前端开发者的 V8 性能优化》迷渡</li></ul><p>分会场1：Web 前沿技术</p><ul><li>《WebGL新的篇章》万波</li><li>《前端和机器学习结合》邓鋆</li><li>《企鹅电竞PWA实战》渠宏伟</li><li>《QQ空间AMP实战》卢嘉辉</li></ul><p>分会场2：框架&优化</p><ul><li>《从浏览器内核看性能优化》凌实</li><li>《基于WebRTC的P2P-CDN流媒体加速》谢庭</li><li>《QQ钱包h5应用开发实践》周明礼</li><li>《WePY-小程序框架设计》龚澄</li></ul><p>分会场3：NodeJS&工程化&其他</p><ul><li>《Start R & B》贺师俊</li><li>《微信支付大规模前端外包实战》郭润增</li><li>《富途的工程化实践之路》王运国</li><li>《揭秘实时协作文档》许海浩</li></ul><p>下面来简单说下，看PPT效果更佳。</p><h2 id=1-the-future-of-writing-javascript-推荐>1. the Future of Writing Javascript <code>推荐</code></h2><p>主要介绍了比较新的JS特征，从Stage 1至Stage 4。由于是英文讲师，考虑到大部分国人的情况，讲的内容都比较通俗易懂，看完PPT就差不多了。下面为讲义：</p><h3 id=stage-4>Stage 4</h3><ul><li>Array#includes：数组实例的 includes 方法，用于判断数组实例是否包含某个值</li><li>Async Function ：async 函数，处理异步回调</li></ul><h3 id=stage-3>Stage 3</h3><ul><li>Async Iteration：async 函数和迭代器的结合使用</li><li>Rest/Spread Properties：允许我们将一个对象的各个属性进行解构赋值和定义相关的操作</li><li>Dynamic import ()：动态引入脚本</li><li>Named Captures：支持正则表达式的命名捕获</li><li>Unicode Escapes：字符编码的扩展</li><li>Lookbehind Assertions：支持正则表达式的后行断言</li></ul><h3 id=stage-2>Stage 2</h3><ul><li>Class Decorators：类装饰器，用于对类的方法和属性做一些定义或前置后置操作</li><li>Promise#finally：支持promise实例的finally方法</li></ul><h3 id=javascript-的未来>JavaScript 的未来</h3><ul><li>npm，Javascript 包管理工具，打败了 bower</li><li>webpack，JavaScript 打包工具，击败了 gulp，require.js</li><li>babel，JavaScript 编译工具</li><li>rollup，新一代 JavaScript 的打包工具，在类库开发中颇受欢迎</li><li>eslint，JavaScript 代码质量检查工具</li><li>prettier，JavaScript 新一代代码质量检查工具</li><li>node，JavaScript V8 运行环境</li><li>electron，JavaScript 桌面应用开发工具</li></ul><h2 id=2-初创公司前端工程体系建设>2. 初创公司前端工程体系建设</h2><p>这部分由张云龙大神分享，分四个部分：</p><ol><li>组件化开发与系统拆分</li><li>持续集成/交付/部署</li><li>前端自动化测试</li><li>看板，可视化你的进度（推荐使用物理看板）</li></ol><h3 id=组件化开发与系统拆分>组件化开发与系统拆分</h3><p><img src=/post/2017/images/0701/components.png alt=components.png></p><p>提倡每个组件为一个文件夹，各种静态资源放该文件夹下。有效解决资源的依赖和定位问题。同时把页面拆分成不同的模块，可以几个人协同开发，互不影响。这里推荐阅读他早期的文章 <a href=https://github.com/fouber/blog/issues/10>前端工程——基础篇</a>。</p><p>通过内嵌，依赖，定位管理静态资源，整个流程是：源代码 -> 构建工具 -> 资源表 -> 加载接口（同步，异步，预加载）。</p><p>大型网站系统的拆分中，把网站拆分成几个系统，通过构建工具来合并成一个系统。</p><h3 id=持续集成交付部署>持续集成/交付/部署</h3><p>通过使用 Gitlab—CI，每新推一个 feature 分支，会自动产生 feature-name.www.quanmin.tv 的测试环境。</p><p>其中前端工程多环境实现原理：</p><ol><li>内网泛域名解析，把 *.www.quanmin.tv 解析到 gitlab-runner 机器上。</li><li>gitlab-ci 针对推送的 git 分支生成 nginx 配置文件</li><li>随机选择一个系统可用端口，分配给 git 分支对应的应用，启动 nodejs server，监听此端口</li><li>nginx 反向代理，把域名代理给对应的app端口，实现多环境效果</li></ol><p>持续集成：pipeline + eslint</p><h3 id=前端自动化测试>前端自动化测试</h3><p>两点：</p><ol><li>基于dom的4种差异（新增，删除，内容改变，样式改变）</li><li>Dolphin自动化测试系统</li></ol><ul><li>基于 page-monitor 项目建立页面差异对比</li><li>通过设置 dom 基线建立 case，对比版本之间的 dom 差异，缩小人工的测试范围</li><li>继承了行为录制，log 输出 diff，瀑布流分析的首屏分析等好用的功能</li></ul><h3 id=看板可视化你的进度----推荐使用物理看板>看板，可视化你的进度 &ndash; 推荐使用物理看板</h3><p>分析对比电子看板，更喜欢物理看板。</p><p>看板原则：</p><ul><li>可视化</li><li>限制在制品</li><li>管理流动</li><li>显式化流程规则</li><li>建立反馈环路</li><li>协作式改进、试验中演进</li></ul><p>电子看板问题：</p><ul><li>信息辐射成本高</li><li>容易形成『信息冰箱』</li><li>缺乏仪式感</li><li>定制性较差</li></ul><p><img src=/post/2017/images/0701/panel.png alt=panel.png></p><p>物理看板：</p><ul><li>易于创建、易于变更、易于观察</li><li>有极强的信息辐射能力，了解彼此工作</li><li>有一种特别的仪式感，是一种特别的团队社交形式</li><li>白纸黑字，写下时间的承诺</li><li>方便追踪进度问题</li></ul><p>推荐《看板实战》这本书。</p><p>总结语：创业不是要减少犯错的次数，而是要尽量减少犯错的成本。</p><h2 id=3-面向前端开发者的-v8-性能优化>3. 面向前端开发者的 V8 性能优化</h2><p>这部分其实门槛比较高，通过了解V8内核的原理，来优化我们的代码。有兴趣的也可以看看这篇文章 <a href=http://jiongks.name/blog/v8-javascript-performance-tips/>JavaScript V8性能小贴士</a></p><h2 id=4-webgl新的篇章>4. WebGL新的篇章</h2><p>主要介绍了WebGL三个部分的内容：</p><ul><li>能做什么</li><li>该怎么做</li><li>工作原理</li></ul><h3 id=能做什么>能做什么</h3><ul><li>产品展示</li><li>品牌及营销类网站</li><li>应用 比如：衣服搭配、虚拟装修</li><li>游戏</li><li>webVR / webAR</li><li>……</li></ul><p>可行性分析：</p><ul><li>开发成本高？为2D网站的2倍</li><li>性能？在移动端要降低画质，桌面端表现十分优异</li><li>浏览器支持？桌面端 81.2%，移动端 74.7%（2017年3月数据）</li></ul><h3 id=该怎么做>该怎么做</h3><ol><li>从WebGL框架开始</li><li>了解三维场景基本概念</li><li>了解三位软件制作流程</li><li>了解Three.js</li></ol><h3 id=工作原理>工作原理</h3><p>有点复杂，自己看ppt</p><p>我们需要储备哪些知识？</p><ol><li>了解常用 3D 软件</li><li>学习 Three.js</li><li>第三方类库</li><li>学习 WebGL</li><li>openGL ES</li><li>线性代数，计算机图形学</li></ol><p>对这部分有兴趣的可以阅读<a href=http://www.cnblogs.com/wanbo/>讲师的blog</a>。</p><h2 id=5-富途的工程化实践之路>5. 富途的工程化实践之路</h2><p>介绍历史问题：</p><ul><li>难以维护</li><li>质量堪忧</li><li>效率低下</li><li>交互各异</li></ul><p>通过require.js + gulp 来构建模块化：</p><ul><li>AMD 模块化规范</li><li>i18n 插件</li><li>标准化和灵活化</li></ul><p>这样带来的问题：</p><ul><li>构建耗时 （10分钟以上）</li><li>构建不可控（严重依赖配置文件）</li><li>低效的缓存管 （全职只有一个版本号，静态资源不能有效缓存）</li><li>组件跨项目复用难</li></ul><p>改变：</p><ul><li>项目组件化</li><li>require.js 变成 webpack，其中webpack只做打包，压缩还是用gulp</li></ul><p>这样又引进了新的问题：</p><ul><li>构建环境差异<ul><li>参数解析</li><li>拉取代码</li><li>安装依赖</li><li>构建</li><li>提交入库</li></ul></li><li>人的可靠性</li><li>开发者的困扰</li></ul><p>进行组件2.0的开发：</p><ul><li>私有 NPM(registry.npm.oa.com)</li><li>命名空间 @futuweb</li><li>semver 语义化版本</li><li>去 jQuery，适配多框架</li><li>添加文档</li></ul><p>总结目前的方案：</p><ul><li>组件独立成项，发布 私有 NPM</li><li>NPM 做包管</li><li>Webpack + Gulp 构建</li><li>构建代码不入库</li><li>Jenkins 持续集成</li></ul><h2 id=其他>其他</h2><p>其他的还有PWA，AMP，小程序的WebPY框架，石墨的共享文档实现，都是比较有趣的，强烈建议看下PPT。</p><p>视频的话，暂时没找到公开的，只找到一个要收费的<a href=http://www.itdks.com/dakashuo/new/eventlist/detail/952>腾讯TFC视频</a>。</p></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>cirplan</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2017-07-01</span></p><p class=copyright-item><span class=item-title>文章链接</span>
<span class=item-content><a rel=noopener href=https://cirplan.me/post/2017/07-01-frontend-tfc/>https://cirplan.me/post/2017/07-01-frontend-tfc/</a></span></p><p class=copyright-item><span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank>署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)</a></span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/tfc2017/>tfc2017</a>
<a href=/tags/share/>share</a></div><nav class=post-nav><a class=prev href=/post/2022/08-22-talk-about-maverick/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">浅聊壮志凌云2</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/post/2017/03-13-wx-platform-conect/><span class="next-text nav-default">使用koa2对接微信公众平台</span>
<span class="next-text nav-mobile">下一篇</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=copyright><span class=copyright-year>&copy;
2013 -
2023<span class=heart>🥕</span><span>cirplan</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script>window.onload=function(){const e="fixed-open",n="slideout-open",s="icon-click",t=document.querySelector("#mobile-navbar-icon");t.addEventListener("click",o=>{const i=document.querySelector("#mobile-navbar"),a=document.querySelector("#mobile-panel");i.classList.contains(e)?(i.classList.remove(e),a.classList.remove(e),t.classList.remove(s),document.documentElement.classList.remove(n)):(i.classList.add(e),a.classList.add(e),t.classList.add(s),document.documentElement.classList.add(n))})}</script></body></html>